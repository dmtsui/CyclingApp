<div class="container">
<div class="tabbable"> <!-- Only required for left/right tabs -->
    <ul class="nav nav-tabs index-tab">
      <li class="active"><a href="#tab1" data-toggle="tab">Feed</a></li>
      <li><a href="#tab2" data-toggle="tab">Stats</a></li>
    	  <li class="dropdown pull-right">
    	     <a class="dropdown-toggle"
    	        data-toggle="dropdown"
    	        href="#">
    	          Your Rides
    	         <b class="caret"></b>
    	       </a>
    	     <ul class="dropdown-menu gpx-menu">
    	     </ul>
    	   </li>
    </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab1">
		<div id="feed-container"></div>
    </div>
    <div class="tab-pane" id="tab2">
		<div id= "graph-details" class="container">
			<div class="row">
				<div class="span2">
					<div id="map"></div>
				</div>
				<div class="span3 offset3 top-detail">
					<div class="row">
						<div class="span2 offset">
							<h3 class="info">Speed: <div class="speed">0.0 MPH</div> </h3>
						</div>
						
					</div>
					<div class="row">
						<div class="span2 offset">
							<h3 class="info">Elevation: <div class="elevation">0.0 FT</div> </h3>
						</div>
					</div>
					<div class="row">
						<div class="span2 offset">
							<h3 class="info">Distance: <div class="dist">0.0 MILES</div> </h3>
						</div>

					</div>
				</div>
				<div class="span4 offset5">
					    <div id="pano"></div>
				</div>
			</div>
			<div class="row">
				<div class="span6">
					<svg width=1200 height=200 class="outside-svg">
				  	
					</svg>
				</div>
			</div>	
		</div>
    </div>
    <div class="tab-pane" id="tab3">
		<div id="canvas-div" display="none"></div>
    </div>
  </div>
</div>

<!-- <canvas id="tester" height=600 width=1000 ></canvas>
<canvas id="temp-map" height=256 width=256 ></canvas> -->
</div>
<div id="content" class="container">

</div>

<input type="file" id="files" name="file" />
<script>
$(function(){
	
	CA.Helpers.GpxUploadView.initialize();
	CA.Store.Map = L.map('map');
	L.Icon.Default.imagePath = "/assets";
	CA.Store.Marker = L.marker([0,0]).addTo(CA.Store.Map);
	
	
	var pos = new google.maps.LatLng( 0, 0);

    var panoramaOptions = {
      position: pos,
      pov: {
        heading: 34,
        pitch: 10
      }
    };
	
    CA.Store.Panorama = new  google.maps.StreetViewPanorama(document.getElementById('pano'),panoramaOptions);

	var gpxes = <%= @gpxes.to_json.html_safe %>;
	
	var $rootEl = $('#content');
	
	CA.Store.Gpxes = new CA.Collections.Gpxes(gpxes);

	window.CA.initialize($rootEl);
	
});
</script>